{% extends 'layout.html' %}
{% block content %}
<h2>Available Slots</h2>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Date</th>
      <th>Machine</th>
      <th>Start</th>
      <th>End</th>
      <th>Booked</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
  {% for s in slots %}
  <tr>
    <td>{{ s.slot_date }}</td>
    <td>{{ s.machine_name }}</td>
    <td>{{ s.slot_start }}</td>
    <td>{{ s.slot_end }}</td>
    <td>{{ s.booked_count }}</td>
    <td>
      {% if s.booked_count == 0 %}
        <a href="{{ url_for('book_slot', slot_id=s.id) }}" class="btn btn-success btn-sm">Book</a>
      {% else %}
        <span class="badge bg-danger">Booked</span>
      {% endif %}
    </td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
